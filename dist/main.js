(()=>{"use strict";(function(e){let t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds"),c=setInterval((function(){let e=function(){let e=(new Date("21, oct , 2020").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),o=Math.floor(e/60%60);return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:o,seconds:t}}(),l=function(e){return e>=0&&e<10?"0"+e:e};t.textContent=l(e.hours),o.textContent=l(e.minutes),n.textContent=l(e.seconds),e.timeRemaining<0&&(clearInterval(c),t.textContent="00",o.textContent="00",n.textContent="00")}),1e3)})(),(()=>{const e=document.querySelector(".menu"),t=document.querySelector("menu"),o=()=>{t.classList.toggle("active-menu")};e.addEventListener("click",o),t.addEventListener("click",(e=>{let t=e.target;t.classList.contains("close-btn")||(t=t.closest("li")),t&&o()}))})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),o=(document.querySelector(".popup-close"),document.querySelector(".popup-content"));t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block"}))})),e.addEventListener("click",(t=>{let o=t.target;o.classList.contains("popup-close")?e.style.display="none":(o=o.closest(".popup-content"),o||(e.style.display="none"))})),t[0].addEventListener("click",(()=>{let t=0,n=function(){t++,t<150&&(o.style.top=t+"px",setTimeout(n,6)),document.documentElement.clientWidth<768&&(e.style.display=t=0)};n()})),t[1].addEventListener("click",(()=>{let t=0,n=function(){t++,t<150&&(o.style.top=t+"px",setTimeout(n,6)),document.documentElement.clientWidth<768&&(e.style.display=t=0)};n()})),t[2].addEventListener("click",(()=>{let t=0,n=function(){t++,t<150&&(o.style.top=t+"px",setTimeout(n,6)),document.documentElement.clientWidth<768&&(e.style.display=t=0)};n()}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let n=e.target;n=n.closest(".service-header-tab"),n&&t.forEach(((e,c)=>{e===n&&(e=>{for(let n=0;n<o.length;n++)e===n?(t[n].classList.add("active"),o[n].classList.remove("d-none")):(t[n].classList.remove("active"),o[n].classList.add("d-none"))})(c)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-content"),o=document.querySelector(".portfolio-dots");let n,c=0;const l=(e,t,o)=>{e[t].classList.remove(o)},a=(e,t,o)=>{e[t].classList.add(o)};(()=>{for(let t=0;t<e.length;t++){let e=document.createElement("li");e.classList.add("dot"),c===t&&e.classList.add("dot-active"),o.appendChild(e)}})();const r=document.querySelectorAll(".dot"),s=()=>{l(e,c,"portfolio-item-active"),l(r,c,"dot-active"),c++,c>=e.length&&(c=0),a(e,c,"portfolio-item-active"),a(r,c,"dot-active")},i=(e=3e3)=>{n=setInterval(s,e)};t.addEventListener("click",(t=>{t.preventDefault();let o=t.target;o.matches(".portfolio-btn, .dot")&&(l(e,c,"portfolio-item-active"),l(r,c,"dot-active"),o.matches("#arrow-right")?c++:o.matches("#arrow-left")?c--:o.matches(".dot")&&r.forEach(((e,t)=>{e===o&&(c=t)})),c>=e.length&&(c=0),c<0&&(c=e.length-1),a(e,c,"portfolio-item-active"),a(r,c,"dot-active"))})),t.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)})),t.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i()})),i(1500)})(),(()=>{let e;document.querySelectorAll("#command .row img").forEach((t=>{t.addEventListener("mouseenter",(t=>{e=t.target.src;let o=t.target;o.src=o.getAttribute("data-img")})),t.addEventListener("mouseout",(t=>{t.target.src=e}))}))})(),((e=100)=>{let t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),c=document.querySelector(".calc-day"),l=document.querySelector(".calc-count"),a=document.getElementById("total");t.addEventListener("change",(t=>{const r=t.target;(r.matches(".calc-type")||r.matches(".calc-square")||r.matches(".calc-day")||r.matches(".calc-count"))&&(()=>{let t=0,r=1,s=1;const i=o.options[o.selectedIndex].value,u=+n.value;l.value>1&&(r+=(l.value-1)/10),c.value&&c.value<5?s*=2:c.value&&c.value<10&&(s*=1.5),i&&u&&(t=e*i*u*r*s),a.textContent=Math.ceil(t)})()}))})(100),(()=>{t(document.getElementById("form1")),t(document.getElementById("form2")),t(document.getElementById("form3"));const e=document.createElement("div");function t(t){let n=[...t.elements].filter((e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type));n.forEach((e=>{e.addEventListener("input",(()=>{"user_phone"===e.name?e.value=e.value.replace(/[^0-9\+]/,""):"user_name"===e.name?e.value=e.value.replace(/[^а-яё ]/gi,""):"user_message"===e.name?e.value=e.value.replace(/[^а-яё0-9.,;:!?@#/$№\-)(=`<>|}{}\+\]["'_*&^ ]/gi,""):"user_email"===e.name&&(e.value=e.value.replace(/[^a-z0-9\.@\.\_]/gi,""))}))})),t.addEventListener("submit",(c=>{c.preventDefault(),t.append(e),e.textContent="Загрузка...";const l=new FormData(t);let a={};l.forEach(((e,t)=>{a[t]=e})),o(a).then((t=>{if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((t=>{e.textContent="Что-то пошло не так...",console.error(t)})),n.forEach((e=>{e.value=""}))}))}e.style.cssText="font-size: 2rem; color: white;";const o=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();